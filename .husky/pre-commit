#!/usr/bin/env sh

echo "ğŸ” Running pre-commit checks..."

# Fix formatting first
echo "ğŸ¨ Fixing code formatting..."
yarn lint:fix

# Run linting
echo "ğŸ“ Running ESLint..."
yarn lint

# Run type checking
echo "ğŸ”§ Running TypeScript type check..."
yarn tsc --noEmit

# Run unit tests
echo "ğŸ§ª Running unit tests..."
yarn test

# Run build check
echo "ğŸ—ï¸ Checking build..."
yarn build

# Update visual snapshots and add to staging
echo "ğŸ“¸ Updating visual snapshots..."
./scripts/update-snapshots.sh

echo "âœ… All pre-commit checks passed!"